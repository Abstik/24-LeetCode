## [33. 搜索旋转排序数组](https://leetcode.cn/problems/search-in-rotated-sorted-array/)

![image-20250513191534635](C:\Users\18353\AppData\Roaming\Typora\typora-user-images\image-20250513191534635.png)



```go
func search(nums []int, target int) int {
	// 获取数组最后一个元素，用于判断元素在哪一部分
	last := nums[len(nums)-1]
	check := func(i int) bool {
		x := nums[i]
		if x > last { // 在左半部分
			// 如果目标值也在左半部分，并且当前元素大于等于目标值
			return target > last && x >= target
		}
		// 在右半部分;如果目标值在左半部分，或者当前元素大于等于目标值
		return target > last || x >= target
	}

	left, right := -1, len(nums)-1
	for left+1 < right {
		mid := (left + right) / 2
		// 根据 check 函数的结果调整搜索区间
		if check(mid) {
			right = mid
		} else {
			left = mid
		}
	}
	// 检查右边界
	if nums[right] != target {
		return -1 // 未找到目标值
	}
	return right
}
```



## [34. 在排序数组中查找元素的第一个和最后一个位置](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)

![image-20250513191401607](C:\Users\18353\AppData\Roaming\Typora\typora-user-images\image-20250513191401607.png)



```go
func searchRange(nums []int, target int) []int { // 库函数应用
	index, ok := slices.BinarySearch(nums, target)
	if !ok {
		return []int{-1, -1}
	}
	last := sort.SearchInts(nums, target+1) - 1
	return []int{index, last}
}
```

