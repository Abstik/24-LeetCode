# [**1049. 最后一块石头的重量 II**](https://leetcode.cn/problems/last-stone-weight-ii/)

![](https://kevin-java.oss-cn-hongkong.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-05-06%20213527.png)

```java
class Solution {
    public int lastStoneWeightII(int[] stones) {
        int sum = 0;
        for (int stone : stones) {
            sum += stone;
        }
        int target = sum / 2;
        int n = stones.length;

        int[][] f = new int[n + 1][target + 1];

        for (int i = 0; i < n; i++) {
            for (int c = 0; c <= target; c++) {
                if (c < stones[i]) {
                    f[i + 1][c] = f[i][c];
                } else {
                    f[i + 1][c] = Math.max(f[i][c], f[i][c - stones[i]] + stones[i]);
                }
            }
        }

        return sum - 2 * f[n][target];
    }
}

```