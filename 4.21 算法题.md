## [134. 加油站 - 力扣（LeetCode）](https://leetcode.cn/problems/gas-station/submissions/624003415/)

![image-20250421162701684](https://ting2.oss-cn-beijing.aliyuncs.com/picture/202504211627806.png)

```C
//剩余 -- 油量-消耗量（从一个点出发，累加和没有小于0的时候）
//gas = [1,2,3,4,5], cost = [3,4,5,1,2]
// -2 -2 -2 3 3
//复制数组 -2 -2 -2 3 3 -2 -2 -2 3 3 ... 

int canCompleteCircuit(int* gas, int gasSize, int* cost, int costSize) {
    int i = 0;//用来表示余量和的个数 到n时停止
    int num = 0;
    int sum = 0;//余量和 不可以为负

    int* arr = (int*)malloc(sizeof(int) * gasSize);
    for (int i = 0; i < gasSize; i++)
    {
        arr[i] = gas[i] - cost[i];
    }

    int start = 0;
    while (i < gasSize)
    {
        if (num >= gasSize * 2)//每一个开始都不符合要求 -- 没有符合要求的
        {
            return -1;
        }
        sum += arr[num % gasSize];
        if (sum < 0)//不符合要求了
        {
            start = (num % gasSize) + 1;//从下一个重新开始找
            sum = 0;
            i = 0;
        }
        else
        {
            i++;
        }
        num++;
    }
    return start;
}
```

## [239. 滑动窗口最大值 - 力扣（LeetCode）](https://leetcode.cn/problems/sliding-window-maximum/submissions/624015193/)

![image-20250421162740499](https://ting2.oss-cn-beijing.aliyuncs.com/picture/202504211627620.png)

```C
//k-1 -> numsSize-1
//单调队列（递减） 将有可能成为最大值的数据放入队列中
//将右侧新元素加入 队列尾部比新元素小的弹出    ---   最大值一定在队头

//数组模拟
int* maxSlidingWindow(int* nums, int numsSize, int k, int* returnSize) {
    int* ret = (int*)malloc(sizeof(int) * (numsSize-k+1));
    *returnSize = numsSize-k+1;
    int* q = (int*)malloc(sizeof(int) * numsSize);//用q保存下标

    int head = 0;
    int tail = 0;

    int j = 0;

    for(int i = 0; i < numsSize; i ++ )
    {
        //数组尾部数据小于新数据  找到数组尾部
        while(head<tail && nums[q[tail-1]]<=nums[i])
        {
            tail--;
        }
        //新数据入队(入的是下标)
        q[tail++] = i;

        //超范围 队头出
        if(q[head] <= i-k)
        {
            head++;
        }
        if(i >= k-1)//有最大值
        {
            ret[j] = nums[q[head]];
            j++;
        }
    }

    return ret;
}
```

